:root {
    /* Define colors and sizes for easy changes */
    --background: #1c1c1e;
    --pad-bg: #464646;
    --pad-active-bg: #007bff;
    --pad-loaded-color: #f0f0f0;
    --gap: 15px;
}

html, body {
    margin: 0;
    overscroll-behavior: none; /* Prevents "pull-to-refresh" */
    /* Height is now controlled by JavaScript to ensure accuracy */
}

body {
    background-color: var(--background);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
}

.drum-machine {
    display: grid;
    width: 100%;
    /* The height will be set dynamically via JavaScript */
    box-sizing: border-box; 
    gap: var(--gap);
    
    /* SAFEZONE PADDING - Still important for hardware notches and home bars */
    padding-top: max(var(--gap), env(safe-area-inset-top));
    padding-right: max(var(--gap), env(safe-area-inset-right));
    padding-bottom: max(var(--gap), env(safe-area-inset-bottom));
    padding-left: max(var(--gap), env(safe-area-inset-left));

    /* Default to a 2x4 grid for portrait mode */
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(4, 1fr);
}

/* Media query for landscape orientation */
@media (orientation: landscape) {
    .drum-machine {
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(2, 1fr);
    }
}

.pad {
    background-color: var(--pad-bg);
    border-radius: 20px;
    cursor: pointer;
    transition: transform 0.07s ease, background-color 0.07s ease;
    -webkit-tap-highlight-color: transparent;
    aspect-ratio: 1 / 1;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2.5em;
    color: var(--pad-loaded-color);
}

.pad.active {
    transform: scale(0.92);
    background-color: var(--pad-active-bg);
}